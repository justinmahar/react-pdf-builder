import { Meta } from '@storybook/addon-docs';
import { DocsPDF } from '../../DocsPDF';

import { Text } from "@react-pdf/renderer";

import { PageNumber } from '../../../../components/pages/PageNumber';
import { Paragraph } from '../../../../components/typography/Paragraph';
import { Box } from '../../../../components/layout/Box';

<Meta title="Documentation/Components/PageNumber" />

<h1>PageNumber</h1>

## Description

## Description

A PageNumber component allows you to easily display the page number in a customizable format within your PDF documents.

You can use this in conjunction with the `fixed` prop to create headers and footers that include the page number and total number of pages. 

See the example below, and read the [Fixed components section](https://react-pdf.org/advanced#page-wrapping) of the react-pdf docs for more info.

This component utilizes [react-pdf Dynamic Content](https://react-pdf.org/advanced#dynamic-content) to determine page number information.

## Usage

```jsx
import { PageNumber } from 'react-pdf-builder';
```

```jsx
<PageNumber />
```

The default format will be `page number / total pages`, such as `2 / 14` for page 2 out of 14 total pages.

You can specify a custom format, like so:

```jsx
<PageNumber format="Page %n of %t"/>
```

### Custom format

In your custom format, you can use the following placeholders, which will be replaced with their corresponding page number values.

| Placeholder | Resulting Value       |
| ----------- | --------------------- |
| `%n`        | Current page number   |
| `%t`        | Total number of pages |
| `%sn`       | Sub page number       |
| `%st`       | Sub pages total       |

### Props

| Inherits all props from                                                                                                    |
| -------------------------------------------------------------------------------------------------------------------------- |
| [ThemedText](https://justinmahar.github.io/react-pdf-builder/?path=/docs/documentation-components-basics-themedtext--docs) |
| [Text](https://react-pdf.org/components#text)                                                                              |

And supports the following props:

| Prop   | Type          | Description                                                                                                                                                                  |
| ------ | ------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| format | `string`      | Optional.                                                                                                                                                                    |
| swatch | `SwatchColor` | Optional. One of the [swatch color names](https://justinmahar.github.io/react-pdf-builder/?path=/docs/documentation-themes--docs#swatch-colors) from the theme, as a string. |
  
## PageNumber Example

<DocsPDF>
  <Box fixed className="p-3 border-bottom justify-content-center mb-3">
    <PageNumber format="Page %n of %t"/>
  </Box>
  <Paragraph>This is some filler text. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</Paragraph>
  <Paragraph>This is some more filler text. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</Paragraph>
  <Paragraph break>This is some filler text. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</Paragraph>
  <Paragraph>This is some more filler text. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</Paragraph>
  <Paragraph break>This is some filler text. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</Paragraph>
  <Paragraph>This is some more filler text. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</Paragraph>
</DocsPDF>

```jsx
import * as React from 'react';
import { PageNumber, Paragraph, Box, ThemedPage } from 'react-pdf-builder';
import { PDFViewer, Document } from '@react-pdf/renderer';

export function Example() {
  return (
    <PDFViewer style={{ width: 420, height: 600 }}>
      <Document>
        <ThemedPage size="LETTER">
          <Box fixed className="p-3 border-bottom justify-content-center mb-3">
            <PageNumber format="Page %n of %t"/>
          </Box>
          <Paragraph>This is some filler text. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</Paragraph>
          <Paragraph>This is some more filler text. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</Paragraph>
          <Paragraph break>This is some filler text. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</Paragraph>
          <Paragraph>This is some more filler text. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</Paragraph>
          <Paragraph break>This is some filler text. Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</Paragraph>
          <Paragraph>This is some more filler text. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</Paragraph>
        </ThemedPage>
      </Document>
    </PDFViewer>
  );
}
```
